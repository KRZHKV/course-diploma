!function(e){var t={};function n(l){if(t[l])return t[l].exports;var o=t[l]={i:l,l:!1,exports:{}};return e[l].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(l,o,function(t){return e[t]}.bind(null,o));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var l=()=>{const e=document.querySelector(".callback-btn"),t=document.getElementById("callback_form"),n=document.querySelector(".free-visit"),l=document.getElementById("free_visit_form"),o=document.getElementById("thanks"),c=(e,t)=>{e.addEventListener("click",()=>{t.style.display="block"})},r=e=>{e.addEventListener("click",t=>{let n=t.target;(n.classList.contains("overlay")||n.classList.contains("close_icon")||n.classList.contains("close-btn"))&&(e.style.display="none")})};c(e,t),c(n,l),r(t),r(l),r(o)};var o=()=>{const e=document.querySelector(".fixed-gift");if(e){const t=document.getElementById("gift");e.addEventListener("click",()=>{t.style.display="block",e.style.display="none"}),t.addEventListener("click",e=>{let n=e.target;(n.classList.contains("close_icon")||n.classList.contains("overlay")||n.classList.contains("close-btn"))&&(t.style.display="none")})}};var c=()=>{const e=document.getElementById("totop");let t=document.querySelector(".header-main").offsetHeight;e.style.display="none",window.addEventListener("scroll",()=>{pageYOffset>t?e.style.display="block":pageYOffset<t&&(e.style.display="none")})};var r=()=>{const e=document.querySelector(".menu-button").querySelector("img"),t=document.querySelector(".popup-menu"),n=document.querySelector(".head"),l=document.querySelector(".top-menu");let o=n.offsetHeight;e.addEventListener("click",()=>{t.style.display="flex"}),t.addEventListener("click",e=>{let n=e.target;console.log(n),(n.classList.contains("close-menu-btn-btn")||n.closest(".scroll"))&&(t.style.display="none")}),window.addEventListener("scroll",()=>{pageYOffset>o?l.style.position="fixed":l.style.position=""})};var s=()=>{const e=document.getElementById("card_order"),t=document.getElementById("m1"),n=document.getElementById("m2"),l=document.getElementById("m3"),o=document.getElementById("m4"),c=document.getElementById("card_leto_mozaika"),r=document.getElementById("card_leto_schelkovo"),s=document.getElementById("price-total"),a=e.querySelectorAll('input[name="name"]')[0];if(t){let d;e.addEventListener("change",()=>{t.checked&&c.checked?d=1999:n.checked&&c.checked?d=9999:l.checked&&c.checked?d=13990:o.checked&&c.checked?d=19990:t.checked&&r.checked?d=2990:n.checked&&r.checked?d=14990:l.checked&&r.checked?d=21990:o.checked&&r.checked&&(d=24990),"ТЕЛО2019"===a.value?s.textContent=Math.round(.7*d):s.textContent=d})}};var a=()=>{const e=document.querySelector(".main-slider"),t=e.querySelectorAll(".slide"),n=e.querySelector(".slide-active");let l,o=0;t.forEach(e=>{e.style.display="none"}),n.style.display="flex";const c=()=>{var e,n,l;l="slide-active",(e=t)[n=o].classList.remove(l),e[n].style.display="none",o++,o>=t.length&&(o=0),((e,t,n)=>{e[t].classList.add(n),e[t].style.display="flex"})(t,o,"slide-active")};((e=3e3)=>{l=setInterval(c,e)})()};var d=()=>{const e=document.querySelectorAll("input[type=text]"),t=document.querySelectorAll("input[type=tel]");e.forEach(e=>{e.addEventListener("input",()=>{e.classList.contains("promo")?(console.log(e),e.value=e.value.replace(/[^А-я0-9]/g,"")):e.value=e.value.replace(/[^А-я]/gi,"")})}),t.forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^+0-9]/gi,"")})})};var i=()=>{const e=document.querySelector(".gallery-slider"),t=e.parentNode,n=e.querySelectorAll(".slide"),l=t.querySelector(".dots-wrapper");let o,c=0;n.forEach((e,t)=>{e[t]=document.createElement("li"),e[t].classList.add("dot"),e[t]===e[0]&&e[0].classList.add("dot-active"),l.appendChild(e[t])});let r=document.querySelectorAll(".dot");const s=(e,t,n)=>{e[t].classList.remove(n)},a=(e,t,n)=>{e[t].classList.add(n)},d=()=>{s(r,c,"dot-active"),s(n,c,"slide-active"),c++,c>=n.length&&(c=0),a(r,c,"dot-active"),a(n,c,"slide-active")},i=(e=3e3)=>{o=setInterval(d,e)};t.addEventListener("click",e=>{e.preventDefault();let t=e.target;console.log(t),t.matches(".arrow-btn, .dot")&&(s(n,c,"slide-active"),s(r,c,"dot-active"),t.closest("#arrowRight")?c++:t.closest("#arrowLeft")?c--:t.matches(".dot")&&r.forEach((e,n)=>{e===t&&(c=n)}),c>=n.length&&(c=0),c<0&&(c=n.length-1),a(n,c,"slide-active"),a(r,c,"dot-active"))}),t.addEventListener("mouseover",e=>{(e.target.matches(".arrow-btn")||e.target.matches(".dot"))&&clearInterval(o)}),t.addEventListener("mouseout",e=>{(e.target.matches(".arrow-btn")||e.target.matches(".dot"))&&i()}),i()};var u=()=>{const e=document.querySelector(".services-slider"),t=e.parentNode,n=e.querySelectorAll(".slide");let l=0,o=n[0].offsetWidth,c=n[0].offsetHeight;t.style.height=c,t.style.width=5*o;const r=document.getElementById("arrowLeftService");document.getElementById("arrowRightService").addEventListener("click",()=>{l-=o+10,l<-1100?(l=0,e.style.transform=`translateX(${l}px)`):e.style.transform=`translateX(${l}px)`}),r.addEventListener("click",()=>{l+=o+10,l>0?(l=-1100,e.style.transform=`translateX(${l}px)`):e.style.transform=`translateX(${l}px)`})};var y=()=>{const e=document.getElementById("thanks"),t=e.querySelector(".form-content").querySelector("p");document.createElement("div").style.cssText="font-size: 2rem; color: white;";document.querySelectorAll("form").forEach(n=>{n.addEventListener("submit",l=>{const o=n.querySelector('input[type="checkbox"]');let c=l.target;l.preventDefault();let r=c.querySelectorAll('input[class="not-empty"]');for(let e=0;e<r.length;e++)if(""===r[e].value)return void alert("Заполните все поля в форме!");if(o&&!o.checked)return void alert("Поставьте галочку, что вы согласны на обработку персональных данных");const a=new FormData(l.target),d={};a.forEach((e,t)=>{d[t]=e}),e.addEventListener("click",t=>{let n=t.target;n.classList.contains("close_icon")||n.matches("button")?e.style.display="none":(n=n.closest(".form-wrapper"),n||(e.style.display="none"))}),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(d).then(n=>{if(200!==n.status)throw new Error("status network not 200");c.reset(),e.style.display="block",t.textContent="Ваша заявка отправлена. Мы свяжемся с вами в ближайшее время.",s(),setTimeout(()=>{e.style.display="none"},5e3)}).catch(n=>{e.style.display="block",t.textContent="Что-то пошло не так...",s(),console.error(n)})})})};(()=>{const e=document.querySelector(".club-select"),t=e.querySelector("ul"),n=document.querySelector(".header-main"),l=e.querySelector("p");n.addEventListener("click",e=>{"none"===t.style.display&&e.target===l?t.style.display="block":(t.style.display=e.target===l||e.target.closest(".header-main"))&&(t.style.display="none")})})(),l(),o(),c(),r(),s(),a(),d(),i(),u(),y()}]);